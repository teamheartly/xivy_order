<!DOCTYPE html>
<html>
<head>
  <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
</head>
<body>
  <h2>Test Camera</h2>
  <button id="startBtn">Start Camera</button>
  <div id="reader" style="width:300px;height:300px;"></div>

  <script>
    const btn = document.getElementById("startBtn");
    const readerDiv = document.getElementById("reader");
    let scanner;
    btn.addEventListener("click", async () => {
      readerDiv.style.display = "block";
      scanner = new Html5Qrcode("reader");
      try {
        await scanner.start(
          { facingMode: "environment" },
          { fps: 10, qrbox: 250 },
          decodedText => console.log("Scanned: ", decodedText)
        );
      } catch (err) {
        alert("Camera failed: " + err);
      }
    });
  </script>
</body>
</html>
